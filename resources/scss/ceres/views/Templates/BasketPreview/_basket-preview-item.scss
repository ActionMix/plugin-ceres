.cmp-basket-preview-item{
	display:table;
	padding: .5em 0;
	margin-bottom: 5px;

	&:first-child{
		padding-top: 0;
	}

	&:last-child{
		padding-bottom: 0;
	}

	[class^="basket-item-"]{
		display: table-cell;
		vertical-align: top;
		padding-right: .5em;

		&:last-child{
			padding-right: 0;
		}
	}
	
	.basket-item-image{
		width:30%;

		@include img-contain();

		img{
			
		}
	}
	

	.item-quantity,
	.basket-item-quantity{
		width: 3em;	

		.btn{
			padding-top: .25rem;
			padding-bottom: .25rem;
		}

		.form-control{
			padding-left: .25rem;
		    padding-right: .25rem;
		    text-align: center;
		}
	}

	.basket-item-infos{
		position: relative;
		max-width: 100%;
		width: 66%;

		a{
			display: block;
			transition: color 250ms;

			&:hover{
				text-decoration: none;
			}
		}
	}
	
	.item-name{
		position: relative;
	    display: flex;
        text-overflow: ellipsis;
        max-height: 3em;
        overflow: hidden;
        font-weight: 700;
        margin-bottom: .5rem;

        &:after{
            content: "â€¦";
            display: inline-block;
            height: 50%;
            position:absolute;
            right: .25em;
            bottom: 0; 
            background-color: white;
        }
	}

	.item-unit-price {
	    width: 50%;
		float: left;
		white-space: nowrap;
	}

	.item-total-price {
	    width: 50%;
	    float: right;
	    font-size: 1.5em;
	    font-weight: 700;
	    text-align: right;
	}
	

	.item-remove{
	    line-height: 1;
	    cursor: pointer;					
		color: $gray-lighter;
		text-decoration: none;
		width: 114px;
		text-align: left;

		& .btn-label {
			background: transparent;
		}

		&:hover {
			color:$brand-danger;
			text-decoration: none;
		}
		&.btn-danger:hover {
			color:white;
		}
		&:focus {outline:none;}
	}
}

@include media-breakpoint-up(lg) {
	.control-basket {
		&:hover {
			.cart {
				display: flex;
				transform: translateX(0%);
			}
		}
	}
}

.cart {
	position: absolute;
	top: 100%;
	width: 100vw;
	background: white;
	right: 0;
	z-index: 99999;
	box-shadow: 0 6px 12px rgba(0,0,0,.175);
	padding: 1.5rem;
	color: #4D4F4D;
	font-size: 1rem;
    flex-flow: column;
	max-height: calc(100vh - 100%);

	& .basket-header {
		border-bottom: 1px solid $gray-lighter;
		padding-bottom: .5em;
	}

	@include media-breakpoint-down(md) {
		&:not(.empty) {
			height: calc(100vh - 100%);
		}
	}

	@include media-breakpoint-up(sm) {
		display: none;
		max-width: 440px;
	}

	@include media-breakpoint-down(xs) {
		transform: translateX(100%);
		transition: all 300ms ease-in-out;
	}
	
	.cart-items {
		flex-flow: column nowrap;
		flex: 0 1 auto;
		overflow: auto;
		background-attachment: fixed;
	}

	.cart-totals {
		flex: 1 0 auto;
	}

	& > .no-items {
		text-align: center;
		padding: 1rem;
	}

	& .basket-preview-totals {
		font-size: 80%
	}

	& a {
		padding: 0 !important;
		color: #008ebd !important;

		&:hover {
			color: #005571 !important;
			background-color: transparent !important;
		}
	}

	@include media-breakpoint-up(lg) {
		&:hover {
			display: flex;
		}
	}
}

.basket-item-container {
	position: relative;
	overflow: hidden;

	&.basket-small {
		&:not(:first-child) {
			padding-top: 10px;
		}
	
		&:not(:last-child) {
			border-bottom: 1px solid $gray-lighter;
			padding-bottom: 10px;
		}

		.item-base-price {
			font-size: 80%;
		}

		.item-small-prices {
			font-size: 70%;
		}
	}

	&.basket-large {
		padding: 1.5rem 0;
		
		&:first-child {
			padding-top: 0;
		}
		
		&:last-child {
			padding-bottom: 3rem;
		}

		.item-base-price {
			font-size: 90%;
		}

		.item-small-prices {
			font-size: 80%;
		}
	}

	.basket-item {
		display: flex;
	
		.quantity-input-container {
			width: 3em;
	
			button {
				padding: .25rem 1rem;
			}
		}
	
		.image-container {
			width: 75px;
			flex-shrink: 0;
			margin: 0 15px;
		}
	
		.meta-container {
			display: flex;
			width: 100%;
			min-width: 0;
	
			& > div {
				width: 100%;
				position: relative;
			}
	
			.item-meta {
				display: flex;
			}
	
			.item-name {
				font-size: 80%;
				font-weight: 700;
				margin-right: 10px;
			}
	
			.item-total-price {
				margin-left: auto;
				font-size: 1.2em;
				line-height: 1.2em;
				font-weight: 700;
				white-space: nowrap;
			}
			
			.item-remove-button {
				margin-left: 10px;
				
				font-size: 1.2em;
				line-height: 1.2em;
				
				> button {
					color: $brand-danger;
					border: none;
					background: transparent;
					padding: 0;
					&:not(:disabled):hover {
						color: darken($brand-danger, 20%);
					}
	
					&:disabled {
						cursor: not-allowed;
					}
	
					> i {
						font-size: 1.2rem !important;
						line-height: 1.2rem !important;
					}
				}
			}
	
			.basket-expand {
				display: block;
				position: relative;
				z-index: 999;
				width: 100%;
				text-align: center;
				cursor: pointer;
				font-size: 80%;
			
				&:before{
					content: "";
					display: block;
					width: 100%;
					height: 1.5em;
					border-bottom: 1px solid $gray-lighter;
					filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=0 );
				}
			
				&:after{
					content: attr(data-show-more);
					font-weight: 700;
					color: $gray-light;
					display: inline-block;
					position: relative;
					background-color: $body-bg;
					padding: 0 .5em;
					top: -.8em;
				}
			
				&.opened {
					&:after {
						content: attr(data-show-less);
					}
				}
			}
		}

		.item-properties {
			margin-top: .25em;

			.item-properties-header {
				margin-bottom: .25em;
				font-weight: 700;
			}

			.item-property-value {
				text-overflow: ellipsis;
				overflow: hidden;
				white-space: nowrap;
				display: block;
			}

			@at-root .basket-small ul {
				list-style: none;

				.item-property-value {
					&:before {
						content: '+';
						margin-right: 5px;
					}
				}
			}

			ul {
				padding: 0;
				margin-bottom: 0;

				div {
					margin-bottom: .25em;
				}
			}
		}

		.item-additional-information {
			font-size: 80%;
		}
	}
}
