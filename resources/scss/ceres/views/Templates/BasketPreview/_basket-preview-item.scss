.cmp-basket-preview-item{
	display:table;
	padding: .5em 0;
	margin-bottom: 5px;

	&:first-child{
		padding-top: 0;
	}

	&:last-child{
		padding-bottom: 0;
	}

	[class^="basket-item-"]{
		display: table-cell;
		vertical-align: top;
		padding-right: .5em;

		&:last-child{
			padding-right: 0;
		}
	}
	
	.basket-item-image{
		width:30%;

		@include img-contain();

		img{
			
		}
	}
	

	.item-quantity,
	.basket-item-quantity{
		width: 3em;	

		.btn{
			padding-top: .25rem;
			padding-bottom: .25rem;
		}

		.form-control{
			padding-left: .25rem;
		    padding-right: .25rem;
		    text-align: center;
		}
	}

	.basket-item-infos{
		position: relative;
		max-width: 100%;
		width: 66%;

		a{
			display: block;
			transition: color 250ms;

			&:hover{
				text-decoration: none;
			}
		}
	}
	
	.item-name{
		position: relative;
	    display: flex;
        text-overflow: ellipsis;
        max-height: 3em;
        overflow: hidden;
        font-weight: 700;
        margin-bottom: .5rem;

        &:after{
            content: "â€¦";
            display: inline-block;
            height: 50%;
            position:absolute;
            right: .25em;
            bottom: 0; 
            background-color: white;
        }
	}

	.item-unit-price {
	    width: 50%;
		float: left;
		white-space: nowrap;
	}

	.item-total-price {
	    width: 50%;
	    float: right;
	    font-size: 1.5em;
	    font-weight: 700;
	    text-align: right;
	}
	

	.item-remove{
	    line-height: 1;
	    cursor: pointer;					
		color: $gray-lighter;
		text-decoration: none;
		width: 114px;
		text-align: left;

		& .btn-label {
			background: transparent;
		}

		&:hover {
			color:$brand-danger;
			text-decoration: none;
		}
		&.btn-danger:hover {
			color:white;
		}
		&:focus {outline:none;}
	}
}

@include media-breakpoint-up(lg) {
	.control-basket {
		&:hover {
			.cart-wrapper {
				display: block;
				transform: translateX(0%);
			}
		}
	}
}

.cart-wrapper {
	position: absolute;
	width: 100vw;
	right: 0;
	z-index: 99999;

	&.empty {
		height: auto;
	}

	@include media-breakpoint-up(sm) {
		max-width: 440px;
		max-height: 90vh;
		display: none;
	}

	@include media-breakpoint-down(xs) {
		transform: translateX(100%);
		transition: all 300ms ease-in-out;
		height: 100%;
		position: fixed;
		top: 0;
	}

	& .cart-wrapper-inner {
		position: relative;
		height: 100%;
	}
}

.cart {
	position: absolute;
	width: 100%;
	max-height: 100%;
	background: $white;
	box-shadow: 0 6px 12px rgba(0,0,0,.175);
	padding: .75rem;
	color: $gray-dark;
	font-size: 1rem;
    flex-flow: column;
	display: flex;

	&.empty {
		position: relative;
	}

	@include media-breakpoint-up(sm) {
		max-height: 90vh;
		padding: 1.5rem;
	}

	@include media-breakpoint-down(xs) {
		&:not(.empty) {
			height: 100%;
		}
	}

	& .basket-header {
		border-bottom: 1px solid $gray-lighter;
		padding-bottom: .5em;
	}
	
	.cart-items {
		flex-flow: column nowrap;
		flex: 0 1 auto;
		overflow-x: hidden;
		overflow-y: auto;
		background-attachment: fixed;
		-webkit-overflow-scrolling: touch;
	}

	.cart-totals {
		flex: 1 0 auto;
		
		.btn {
			padding: .5rem .8rem
		}
	}

	& > .no-items {
		text-align: center;
		padding: 1rem;
	}
}

.top-bar .controls-list > li .cart {
	
	.basket-item {
		a {
			padding: 0;
			color: $brand-primary;
			
			&:hover {
				color: darken($top-bar-basket-btn, 10%);
				background-color: transparent;
			}
		}
	}
    
    .fa:not(.qty-sign) {
        line-height: 1;
        font-size: 1.2rem;
    }
}

.basket-item-container {
	position: relative;
	overflow: hidden;

	&.basket-small {
		&:not(:first-child) {
			padding-top: 10px;
		}
	
		&:not(:last-child) {
			border-bottom: 1px solid $gray-lighter;
			padding-bottom: 10px;
		}
	}

	&.basket-large {
		padding: 1.5rem 0;
		
		&:first-child {
			padding-top: 0;
		}
	}

	.basket-item {
		display: flex;
	
		.quantity-input-container {
			width: 3em;
			margin-right: 10px;
	
			button {
				padding: .25rem 1rem;
			}
		}
	
		.image-container {
			width: 75px;
			flex-shrink: 0;
			margin-right: 10px;

			@include media-breakpoint-down(xs) {
				width: 50px;
				margin: 0 10px;
			}	
		}
	
		.meta-container {
			display: flex;
			width: 100%;
			min-width: 0;
	
			& > div {
				width: 100%;
				position: relative;
			}
	
			.item-name {
				font-weight: 700;
				font-size: 80%;
			}

			.item-base-price {
				font-size: 80%;
			}

			.item-small-prices {
				font-size: 75%;
			}
		}

		.basket-item-container-right {
			margin-left: auto;
			display: flex;

			.qty-box-container {
				margin: 0 10px;
			}

			.price-box {
				margin-left: auto;
				min-width: 100px;
			}

			.item-total-price {
				font-weight: 700;
				white-space: nowrap;
				text-align: right;
			}

			.item-remove-container {
				font-size: 1.2em;
				line-height: 1.2em;
				text-align: right;

				> .item-remove-button {
					cursor: pointer;
					padding: 0;
					background: none;
					color: $brand-danger;
					border: none;

					&.disabled {
						cursor: not-allowed;
					}
				}
			}
		}

		.item-properties {
			margin-top: .25em;
			font-size: 75%;

			.item-properties-header {
				margin-bottom: .25em;
				font-weight: 700;
			}

			.item-property-value {
				text-overflow: ellipsis;
				overflow: hidden;
				white-space: nowrap;
				display: block;
			}

			@at-root .basket-small ul {
				list-style: none;

				.item-property-value {
					& > strong {
						&:before {
							content: '\f067';
							font-family: FontAwesome;
							margin-right: 5px;
							font-size: 75%;
							font-weight: normal;
						}
						&:after {
							content: ':';
						}
					}
				}
			}

			ul {
				padding: 0;
				margin-bottom: 0;

				div {
					margin-bottom: .25em;
				}
			}
		}


		.item-additional-information-container {
			.item-additional-information {
				font-size: 75%;
			}

			.basket-expand {
				display: block;
				position: relative;
				z-index: 999;
				width: 100%;
				text-align: center;
				cursor: pointer;
				font-size: 75%;
			
				&:before{
					content: "";
					display: block;
					width: 100%;
					height: 1.5em;
					border-bottom: 1px solid $gray-lighter;
					filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=0 );
				}
			
				&:after{
					content: attr(data-show-more);
					font-weight: 700;
					color: $gray-light;
					display: inline-block;
					position: relative;
					background-color: $body-bg;
					padding: 0 .5em;
					top: -.8em;
				}
			
				&.opened {
					&:after {
						content: attr(data-show-less);
					}
				}
			}
		}
	}
}
