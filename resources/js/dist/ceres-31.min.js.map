{"version":3,"sources":["webpack:///./resources/js/src/app/components/customer/login/UserLoginHandler.vue?69df","webpack:///resources/js/src/app/components/customer/login/UserLoginHandler.vue","webpack:///./resources/js/src/app/components/customer/login/UserLoginHandler.vue?ca5d","webpack:///./resources/js/src/app/components/customer/login/UserLoginHandler.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","isLoggedIn","staticClass","href","_v","_s","$translate","username","myAccountUrl","directives","name","rawName","_e","isLogin","on","click","$event","unmarkInputFields","showRegistration","isRegister","_withStripped","component","options","__file"],"mappings":"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","file":"ceres-31.min.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"position-relative\" } }, [\n    _vm.isLoggedIn\n      ? _c(\"div\", { staticClass: \"dropdown\" }, [\n          _c(\n            \"a\",\n            {\n              staticClass: \"dropdown-toggle\",\n              attrs: {\n                href: \"#\",\n                id: \"accountMenuList\",\n                \"data-toggle\": \"dropdown\",\n                \"aria-haspopup\": \"true\",\n                \"aria-expanded\": \"false\",\n                \"data-boundary\": \"window\"\n              }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"fa fa-user mr-1 d-sm-none\",\n                attrs: { \"aria-hidden\": \"true\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"span\", { staticClass: \"d-none d-sm-inline\" }, [\n                _vm._v(\n                  _vm._s(\n                    _vm.$translate(\"Ceres::Template.loginHello\", {\n                      username: _vm.username\n                    })\n                  )\n                )\n              ])\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"account-menu dropdown-menu small m-0 p-0\" },\n            [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"list-group\",\n                  attrs: { \"aria-labelledby\": \"accountMenuList\" }\n                },\n                [\n                  _c(\n                    \"a\",\n                    {\n                      staticClass: \"list-group-item small\",\n                      attrs: { href: _vm.myAccountUrl }\n                    },\n                    [\n                      _c(\"i\", { staticClass: \"fa fa-user\" }),\n                      _vm._v(\n                        \" \" +\n                          _vm._s(\n                            _vm.$translate(\"Ceres::Template.loginMyAccount\")\n                          )\n                      )\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"a\",\n                    {\n                      directives: [{ name: \"logout\", rawName: \"v-logout\" }],\n                      staticClass: \"list-group-item small\",\n                      attrs: { href: \"#\" }\n                    },\n                    [\n                      _c(\"i\", { staticClass: \"fa fa-sign-out\" }),\n                      _vm._v(\n                        \" \" +\n                          _vm._s(_vm.$translate(\"Ceres::Template.loginLogout\"))\n                      )\n                    ]\n                  )\n                ]\n              )\n            ]\n          )\n        ])\n      : _vm._e(),\n    _vm._v(\" \"),\n    !_vm.isLoggedIn\n      ? _c(\"div\", [\n          _c(\n            \"a\",\n            {\n              attrs: {\n                href: _vm.isLogin ? \"javascript:void(0)\" : \"#login\",\n                \"data-toggle\": _vm.isLogin ? false : \"modal\"\n              },\n              on: {\n                click: function($event) {\n                  return _vm.unmarkInputFields()\n                }\n              }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"fa fa-user mr-1\",\n                attrs: { \"aria-hidden\": \"true\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"span\", { staticClass: \"d-none d-sm-inline\" }, [\n                _vm._v(_vm._s(_vm.$translate(\"Ceres::Template.login\")))\n              ])\n            ]\n          ),\n          _vm._v(\" \"),\n          _vm.showRegistration ? _c(\"span\", { staticClass: \"pipe\" }) : _vm._e(),\n          _vm._v(\" \"),\n          _vm.showRegistration\n            ? _c(\n                \"a\",\n                {\n                  attrs: {\n                    href: _vm.isRegister\n                      ? \"javascript:void(0)\"\n                      : \"#registration\",\n                    \"data-toggle\": _vm.isRegister ? false : \"modal\"\n                  },\n                  on: {\n                    click: function($event) {\n                      return _vm.unmarkInputFields()\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"fa fa-user-plus mr-1\",\n                    attrs: { \"aria-hidden\": \"true\" }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", { staticClass: \"d-none d-sm-inline\" }, [\n                    _vm._v(\n                      _vm._s(_vm.$translate(\"Ceres::Template.loginRegister\"))\n                    )\n                  ])\n                ]\n              )\n            : _vm._e()\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"position-relative\">\n        <div class=\"dropdown\" v-if=\"isLoggedIn\">\n            <a href=\"#\" class=\"dropdown-toggle\" id=\"accountMenuList\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" data-boundary=\"window\">\n                <i class=\"fa fa-user mr-1 d-sm-none\" aria-hidden=\"true\"></i>\n                <span class=\"d-none d-sm-inline\">{{ $translate(\"Ceres::Template.loginHello\", {\"username\": username }) }}</span>\n            </a>\n            <div class=\"account-menu dropdown-menu small m-0 p-0\">\n                <div class=\"list-group\" aria-labelledby=\"accountMenuList\" >\n                    <a :href=\"myAccountUrl\" class=\"list-group-item small\"><i class=\"fa fa-user\"></i> {{ $translate(\"Ceres::Template.loginMyAccount\") }}</a>\n                    <a href=\"#\" class=\"list-group-item small\" v-logout><i class=\"fa fa-sign-out\"></i> {{ $translate(\"Ceres::Template.loginLogout\") }}</a>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"!isLoggedIn\">\n            <a :href=\"isLogin ? 'javascript:void(0)' : '#login'\" :data-toggle=\"isLogin ? false : 'modal'\" @click=\"unmarkInputFields()\">\n                <i class=\"fa fa-user mr-1\" aria-hidden=\"true\"></i>\n                <span class=\"d-none d-sm-inline\">{{ $translate(\"Ceres::Template.login\") }}</span>\n            </a>\n            <span class=\"pipe\" v-if=\"showRegistration\"></span>\n            <a :href=\"isRegister ? 'javascript:void(0)' : '#registration'\" :data-toggle=\"isRegister ? false : 'modal'\"  @click=\"unmarkInputFields()\" v-if=\"showRegistration\">\n                <i class=\"fa fa-user-plus mr-1\" aria-hidden=\"true\"></i>\n                <span class=\"d-none d-sm-inline\">{{ $translate(\"Ceres::Template.loginRegister\") }}</span>\n            </a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ApiService from \"../../../services/ApiService\";\nimport ValidationService from \"../../../services/ValidationService\";\nimport { isDefined } from \"../../../helper/utils\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n    props: {\n        showRegistration: {\n            type: Boolean,\n            default: true\n        }\n    },\n\n    computed: {\n        myAccountUrl() {\n            return App.urls.myAccount;\n        },\n\n        isLogin()\n        {\n            return App.templateType === \"login\";\n        },\n\n        isRegister()\n        {\n            return App.templateType === \"register\";\n        },\n\n        ...mapGetters([\n           \"username\",\n           \"isLoggedIn\"\n        ])\n    },\n\n    created()\n    {\n        ApiService.get(\"/rest/io/customer\", {}, { keepOriginalResponse: true })\n            .done(response =>\n            {\n                if (isDefined(response.data))\n                {\n                    this.$store.commit(\"setUserData\", response.data);\n                }\n            });\n    },\n\n    /**\n     * Add the global event listener for login and logout\n     */\n    mounted()\n    {\n        this.$nextTick(() =>\n        {\n            this.addEventListeners();\n        });\n    },\n\n    methods: {\n        /**\n         * Adds login/logout event listeners\n         */\n        addEventListeners()\n        {\n            ApiService.listen(\"AfterAccountAuthentication\", userData =>\n            {\n                this.$store.commit(\"setUserData\", userData.accountContact);\n            });\n\n            ApiService.listen(\"AfterAccountContactLogout\", () =>\n            {\n                this.$store.commit(\"setUserData\", null);\n            });\n        },\n\n        unmarkInputFields()\n        {\n            ValidationService.unmarkAllFields($(\"#login\"));\n            ValidationService.unmarkAllFields($(\"#registration\"));\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLoginHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLoginHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLoginHandler.vue?vue&type=template&id=166fadbe&\"\nimport script from \"./UserLoginHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLoginHandler.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/workspace/localsystem/plugins/inbox/plugins/Ceres/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('166fadbe')) {\n      api.createRecord('166fadbe', component.options)\n    } else {\n      api.reload('166fadbe', component.options)\n    }\n    module.hot.accept(\"./UserLoginHandler.vue?vue&type=template&id=166fadbe&\", function () {\n      api.rerender('166fadbe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/app/components/customer/login/UserLoginHandler.vue\"\nexport default component.exports"],"sourceRoot":""}