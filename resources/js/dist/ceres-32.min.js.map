{"version":3,"sources":["webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./resources/js/src/app/components/customer/login/UserLoginHandler.vue?69df","webpack:///resources/js/src/app/components/customer/login/UserLoginHandler.vue","webpack:///./resources/js/src/app/components/customer/login/UserLoginHandler.vue?ca5d","webpack:///./resources/js/src/app/components/customer/login/UserLoginHandler.vue"],"names":["normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","_vm","_h","$createElement","_c","_self","attrs","id","isLoggedIn","staticClass","href","_v","_s","$translate","username","myAccountUrl","directives","name","rawName","_e","isLogin","on","click","$event","unmarkInputFields","showRegistration","isRegister","_withStripped","component","__file"],"mappings":"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","file":"ceres-32.min.js","sourcesContent":["/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"position-relative\" } }, [\n    _vm.isLoggedIn\n      ? _c(\"div\", { staticClass: \"dropdown\" }, [\n          _c(\n            \"a\",\n            {\n              staticClass: \"dropdown-toggle\",\n              attrs: {\n                href: \"#\",\n                id: \"accountMenuList\",\n                \"data-toggle\": \"dropdown\",\n                \"aria-haspopup\": \"true\",\n                \"aria-expanded\": \"false\",\n                \"data-boundary\": \"window\"\n              }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"fa fa-user mr-1 d-sm-none\",\n                attrs: { \"aria-hidden\": \"true\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"span\", { staticClass: \"d-none d-sm-inline\" }, [\n                _vm._v(\n                  _vm._s(\n                    _vm.$translate(\"Ceres::Template.loginHello\", {\n                      username: _vm.username\n                    })\n                  )\n                )\n              ])\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"account-menu dropdown-menu small m-0 p-0\" },\n            [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"list-group\",\n                  attrs: { \"aria-labelledby\": \"accountMenuList\" }\n                },\n                [\n                  _c(\n                    \"a\",\n                    {\n                      staticClass: \"list-group-item small\",\n                      attrs: { href: _vm.myAccountUrl }\n                    },\n                    [\n                      _c(\"i\", { staticClass: \"fa fa-user\" }),\n                      _vm._v(\n                        \" \" +\n                          _vm._s(\n                            _vm.$translate(\"Ceres::Template.loginMyAccount\")\n                          )\n                      )\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"a\",\n                    {\n                      directives: [{ name: \"logout\", rawName: \"v-logout\" }],\n                      staticClass: \"list-group-item small\",\n                      attrs: { href: \"#\" }\n                    },\n                    [\n                      _c(\"i\", { staticClass: \"fa fa-sign-out\" }),\n                      _vm._v(\n                        \" \" +\n                          _vm._s(_vm.$translate(\"Ceres::Template.loginLogout\"))\n                      )\n                    ]\n                  )\n                ]\n              )\n            ]\n          )\n        ])\n      : _vm._e(),\n    _vm._v(\" \"),\n    !_vm.isLoggedIn\n      ? _c(\"div\", [\n          _c(\n            \"a\",\n            {\n              attrs: {\n                href: _vm.isLogin ? \"javascript:void(0)\" : \"#login\",\n                \"data-toggle\": _vm.isLogin ? false : \"modal\"\n              },\n              on: {\n                click: function($event) {\n                  return _vm.unmarkInputFields()\n                }\n              }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"fa fa-user mr-1\",\n                attrs: { \"aria-hidden\": \"true\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"span\", { staticClass: \"d-none d-sm-inline\" }, [\n                _vm._v(_vm._s(_vm.$translate(\"Ceres::Template.login\")))\n              ])\n            ]\n          ),\n          _vm._v(\" \"),\n          _vm.showRegistration ? _c(\"span\", { staticClass: \"pipe\" }) : _vm._e(),\n          _vm._v(\" \"),\n          _vm.showRegistration\n            ? _c(\n                \"a\",\n                {\n                  attrs: {\n                    href: _vm.isRegister\n                      ? \"javascript:void(0)\"\n                      : \"#registration\",\n                    \"data-toggle\": _vm.isRegister ? false : \"modal\"\n                  },\n                  on: {\n                    click: function($event) {\n                      return _vm.unmarkInputFields()\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"fa fa-user-plus mr-1\",\n                    attrs: { \"aria-hidden\": \"true\" }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", { staticClass: \"d-none d-sm-inline\" }, [\n                    _vm._v(\n                      _vm._s(_vm.$translate(\"Ceres::Template.loginRegister\"))\n                    )\n                  ])\n                ]\n              )\n            : _vm._e()\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"position-relative\">\n        <div class=\"dropdown\" v-if=\"isLoggedIn\">\n            <a href=\"#\" class=\"dropdown-toggle\" id=\"accountMenuList\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" data-boundary=\"window\">\n                <i class=\"fa fa-user mr-1 d-sm-none\" aria-hidden=\"true\"></i>\n                <span class=\"d-none d-sm-inline\">{{ $translate(\"Ceres::Template.loginHello\", {\"username\": username }) }}</span>\n            </a>\n            <div class=\"account-menu dropdown-menu small m-0 p-0\">\n                <div class=\"list-group\" aria-labelledby=\"accountMenuList\" >\n                    <a :href=\"myAccountUrl\" class=\"list-group-item small\"><i class=\"fa fa-user\"></i> {{ $translate(\"Ceres::Template.loginMyAccount\") }}</a>\n                    <a href=\"#\" class=\"list-group-item small\" v-logout><i class=\"fa fa-sign-out\"></i> {{ $translate(\"Ceres::Template.loginLogout\") }}</a>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"!isLoggedIn\">\n            <a :href=\"isLogin ? 'javascript:void(0)' : '#login'\" :data-toggle=\"isLogin ? false : 'modal'\" @click=\"unmarkInputFields()\">\n                <i class=\"fa fa-user mr-1\" aria-hidden=\"true\"></i>\n                <span class=\"d-none d-sm-inline\">{{ $translate(\"Ceres::Template.login\") }}</span>\n            </a>\n            <span class=\"pipe\" v-if=\"showRegistration\"></span>\n            <a :href=\"isRegister ? 'javascript:void(0)' : '#registration'\" :data-toggle=\"isRegister ? false : 'modal'\"  @click=\"unmarkInputFields()\" v-if=\"showRegistration\">\n                <i class=\"fa fa-user-plus mr-1\" aria-hidden=\"true\"></i>\n                <span class=\"d-none d-sm-inline\">{{ $translate(\"Ceres::Template.loginRegister\") }}</span>\n            </a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ApiService from \"../../../services/ApiService\";\nimport ValidationService from \"../../../services/ValidationService\";\nimport { isDefined } from \"../../../helper/utils\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n    props: {\n        showRegistration: {\n            type: Boolean,\n            default: true\n        }\n    },\n\n    computed: {\n        myAccountUrl() {\n            return App.urls.myAccount;\n        },\n\n        isLogin()\n        {\n            return App.templateType === \"login\";\n        },\n\n        isRegister()\n        {\n            return App.templateType === \"register\";\n        },\n\n        ...mapGetters([\n           \"username\",\n           \"isLoggedIn\"\n        ])\n    },\n\n    created()\n    {\n        ApiService.get(\"/rest/io/customer\", {}, { keepOriginalResponse: true })\n            .done(response =>\n            {\n                if (isDefined(response.data))\n                {\n                    this.$store.commit(\"setUserData\", response.data);\n                }\n            });\n    },\n\n    /**\n     * Add the global event listener for login and logout\n     */\n    mounted()\n    {\n        this.$nextTick(() =>\n        {\n            this.addEventListeners();\n        });\n    },\n\n    methods: {\n        /**\n         * Adds login/logout event listeners\n         */\n        addEventListeners()\n        {\n            ApiService.listen(\"AfterAccountAuthentication\", userData =>\n            {\n                this.$store.commit(\"setUserData\", userData.accountContact);\n            });\n\n            ApiService.listen(\"AfterAccountContactLogout\", () =>\n            {\n                this.$store.commit(\"setUserData\", null);\n            });\n        },\n\n        unmarkInputFields()\n        {\n            ValidationService.unmarkAllFields($(\"#login\"));\n            ValidationService.unmarkAllFields($(\"#registration\"));\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLoginHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLoginHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLoginHandler.vue?vue&type=template&id=166fadbe&\"\nimport script from \"./UserLoginHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLoginHandler.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/workspace/localsystem/plugins/inbox/plugins/Ceres/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('166fadbe')) {\n      api.createRecord('166fadbe', component.options)\n    } else {\n      api.reload('166fadbe', component.options)\n    }\n    module.hot.accept(\"./UserLoginHandler.vue?vue&type=template&id=166fadbe&\", function () {\n      api.rerender('166fadbe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/app/components/customer/login/UserLoginHandler.vue\"\nexport default component.exports"],"sourceRoot":""}